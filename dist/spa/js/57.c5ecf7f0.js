"use strict";(globalThis["webpackChunkcourse_copilot_web"]=globalThis["webpackChunkcourse_copilot_web"]||[]).push([[57],{2057:(e,l,a)=>{a.r(l),a.d(l,{default:()=>K});var s=a(9835),t=a(499),o=a(6970),i=a(1446),d=a(9981),n=a.n(d),c=a(9192),u=a.n(c);a(1569);const r={class:"q-pt-md"},m={class:"row q-pb-sm"},p={class:"col-5 q-pr-xs"},g={class:"col"},h={class:"row q-gutter-sm"},v={class:"col-5"},y=(0,s._)("div",{class:"text-h5"},"Video",-1),w={class:"col q-pr-lg"},b=(0,s._)("div",{class:"text-h5"},"Topics",-1),_=["onClick"],q={class:"row q-pt-md q-gutter-sm"},k={class:"col"},x={class:"row q-pt-md q-gutter-sm"},f={class:"col"},C=(0,s._)("div",{class:"text-h5"},"Topic Summaries",-1),V={class:"text-weight-bolder float-left"},W=["onClick"],H={class:"q-ml-sm"},U={__name:"IndexPage",setup(e){const l=(0,i.Z)(),a=(0,t.iH)(null),d=(0,t.iH)(null),c=(0,t.iH)(null),U="http://labs.suva.sh:8080",Q=(0,t.iH)({}),Z=(0,t.iH)(!1),D=(0,t.iH)([]),P=(0,t.iH)(null),T=e=>"completed"===e?"done":"failed"===e?"error":"processing"===e?"directions_run":"start",z=e=>"completed"===e?"green":"failed"===e?"red":"processing"===e?"yellow":"primary",S=()=>{let e=d.value.match(/v=(.*)/);null!==e&&(c.value=e[1],a.value.loadVideoById({videoId:c.value,startSeconds:0}),a.value.stopVideo())},Y=e=>{a.value.seekTo(e,!0)},$=()=>{""!==a.value.$el.src&&console.log("here")},I=async()=>{l.loading.show();try{const e={url:d.value},{data:a}=await n().post(`${U}/videos`,e);l.notify({type:"positive",message:"Video is being processed ..."})}catch(e){Z.value=!1,l.notify({type:"negative",message:e.message||"Could not process video"})}l.loading.hide()},B=async()=>{l.loading.show();try{const{data:e}=await n().get(`${U}/tasks?limit=20&order=desc`);D.value=e,Z.value=!0,console.log(D.value)}catch(e){Z.value=!1,l.notify({type:"negative",message:e.message||"Could not get tasks"})}l.loading.hide()},K=async e=>{Q.value=[],P.value=e,l.loading.show();try{const{data:l}=await n().get(`${U}/results/${e}`);Q.value=l,Z.value=!1}catch(a){P.value=null,l.notify({type:"negative",message:a.message||"Could not get prediction"})}l.loading.hide()},R=async()=>{l.loading.show(),l.notify({type:"positive",message:"Predictions updated"}),l.loading.hide()},A=async()=>{l.loading.show(),l.notify({type:"positive",message:"Chapter markers downloaded"}),l.loading.hide()},E=async()=>{l.loading.show(),l.notify({type:"positive",message:"Quarto file downloaded"}),l.loading.hide()};return(e,l)=>{const i=(0,s.up)("q-input"),n=(0,s.up)("q-btn"),c=(0,s.up)("q-scroll-area"),U=(0,s.up)("q-page"),j=(0,s.up)("q-avatar"),G=(0,s.up)("q-card-section"),L=(0,s.up)("q-card"),M=(0,s.up)("q-dialog");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(U,{padding:""},{default:(0,s.w5)((()=>[(0,s._)("div",r,[(0,s._)("div",m,[(0,s._)("div",p,[(0,s.Wm)(i,{outlined:"",dense:"",modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=e=>d.value=e),label:"YouTube Video URL"},null,8,["modelValue"])]),(0,s._)("div",g,[(0,s.Wm)(n,{class:"q-mr-xs",outline:"",style:{height:"100%"},color:"white","text-color":"black",label:"Open Video",disable:!d.value,onClick:S},null,8,["disable"]),(0,s.Wm)(n,{class:"q-mr-xs",style:{height:"100%"},outline:"",color:"white","text-color":"black",label:"Process",disable:null===d.value,onClick:I},null,8,["disable"]),(0,s.Wm)(n,{style:{height:"100%"},outline:"",color:"white","text-color":"black",label:"Get Predictions",onClick:B})])]),(0,s._)("div",h,[(0,s._)("div",v,[y,(0,s.Wm)((0,t.SU)(u()),{id:"player",ref_key:"player",ref:a,width:"100%",src:"",onReady:$},null,512)]),(0,s._)("div",w,[b,(0,s.Wm)(c,{style:{height:"80%",width:"75%"}},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Q.value.topics,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.order,class:"q-py-xs",style:{display:"flex","align-items":"center",width:"98%"}},[(0,s._)("div",{class:"text-primary",style:{cursor:"pointer"},onClick:l=>Y(e.start_seconds)},(0,o.zw)(e.start),9,_),(0,s.Wm)(i,{class:"q-pl-sm",style:{width:"100%"},square:"",outlined:"",dense:"",modelValue:e.headline,"onUpdate:modelValue":l=>e.headline=l},null,8,["modelValue","onUpdate:modelValue"])])))),128))])),_:1})])]),(0,s._)("div",q,[(0,s._)("div",k,[(0,s.Wm)(n,{class:"q-mr-xs",style:{height:"100%"},color:"primary",icon:"save","text-color":"white",label:"Update Predictions",disable:null===P.value,onClick:R},null,8,["disable"]),(0,s.Wm)(n,{class:"q-mr-xs",style:{height:"100%"},color:"red",icon:"undo","text-color":"white",label:"Undo Changes",disable:null===P.value,onClick:l[1]||(l[1]=e=>K(P.value))},null,8,["disable"]),(0,s.Wm)(n,{class:"q-ml-lg",style:{height:"100%"},color:"secondary","text-color":"white",icon:"file_download",label:"Export Chapter Markers",disable:null===P.value,onClick:A},null,8,["disable"]),(0,s.Wm)(n,{class:"q-ml-sm",style:{height:"100%"},color:"secondary",icon:"file_download","text-color":"white",label:"Export Quarto Blog Post",disable:null===P.value,onClick:E},null,8,["disable"])])]),(0,s._)("div",x,[(0,s._)("div",f,[C,(0,s.Wm)(c,{style:{height:"375px",width:"85%"}},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Q.value.topics,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.order,class:"q-py-xs",style:{"align-items":"center",width:"98%"}},[(0,s._)("div",V,(0,o.zw)(e.headline),1),(0,s._)("div",{class:"float-left q-pl-sm text-primary",style:{cursor:"pointer"},onClick:l=>Y(e.start_seconds)},(0,o.zw)(e.start),9,W),(0,s.Wm)(i,{class:"q-pl-sm",style:{width:"100%",padding:"0"},square:"",outlined:"",dense:"",type:"textarea",modelValue:e.summary,"onUpdate:modelValue":l=>e.summary=l},null,8,["modelValue","onUpdate:modelValue"])])))),128))])),_:1})])])])])),_:1}),(0,s.Wm)(M,{modelValue:Z.value,"onUpdate:modelValue":l[2]||(l[2]=e=>Z.value=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(L,null,{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(D.value,(e=>((0,s.wg)(),(0,s.j4)(G,{class:"row items-center",key:e.id},{default:(0,s.w5)((()=>[(0,s.Wm)(j,{icon:T(e.status),color:z(e.status),"text-color":"white"},null,8,["icon","color"]),(0,s._)("span",H,[(0,s.Uk)((0,o.zw)(e.video_id)+" ("+(0,o.zw)(e.status)+") ",1),(0,s.Wm)(n,{class:"q-ml-sm",style:{height:"100%"},color:"green",icon:"visibility","text-color":"white",label:"View Results",disable:"completed"!==e.status,onClick:l=>K(e.id)},null,8,["disable","onClick"])])])),_:2},1024)))),128))])),_:1})])),_:1},8,["modelValue"])],64)}}};var Q=a(9885),Z=a(4925),D=a(8556),P=a(1821),T=a(1365),z=a(4458),S=a(3190),Y=a(1357),$=a(9984),I=a.n($);const B=U,K=B;I()(U,"components",{QPage:Q.Z,QInput:Z.Z,QBtn:D.Z,QScrollArea:P.Z,QDialog:T.Z,QCard:z.Z,QCardSection:S.Z,QAvatar:Y.Z})}}]);